
     <mat-drawer-container class="card p-0 border-0 shadow-sm rounded-3" style="min-height: 500px;" >

        <mat-drawer mode="side" opened style="width: 300px;" >
            <div class="card-body p-0">
              <div class="d-flex">

                 <ul ngbNav #nav="ngbNav" [(activeId)]="active" orientation="vertical" class="list-group list-group-flush w-100">

                    <ng-container *ngIf="$publishers | async as publishers; else pubs">

                       <li [ngbNavItem]="i" *ngFor="let publisher of publishers | filter: searchText; index as i" class="list-group-item list-group-item-action py-2" [ngClass]="{'active': active == i }">
                          <a ngbNavLink [class]="active == i ? 'fw-bold text-white' : 'fw-bold text-dark'">
                            <publisher-row [publisher]="publisher"></publisher-row>
                          </a>
                          <ng-template ngbNavContent>
                            <div class="card-header bg-white p-0 pb-2 d-flex justify-content-between align-items-center">
                              <h6 class="mb-0">
                                <span>{{ part.title.split(')')[0] | titlecase }}</span> <br>
                                 <span class="fw-bold fs-5">{{ publisher.firstName | titlecase }} {{ publisher.lastName | titlecase }} Parts History</span>
                                </h6>
                              <button type="button" class="btn btn-primary btn-sm" (click)="selectPublisher(publisher)">
                                Select
                              </button>
                            </div>
                            <publisher-parts [publisher]="publisher" [part]="part"></publisher-parts>
                          </ng-template>
                        </li>

                    </ng-container>
                 </ul>

               </div>
            </div>
        </mat-drawer>
        <mat-drawer-content>

            <div *ngIf="$publishers | async as publishers; else loading" class="card-body">
              <div [ngbNavOutlet]="nav">
              </div>
            </div>
        </mat-drawer-content>
     </mat-drawer-container>



<ng-template #loading>
  <div class="d-flex justify-content-center align-items-center" style="min-height: 500px;">
    <div class="spinner-border text-success" style="width: 3rem; height: 3rem;" role="status">
    </div>
  </div>
</ng-template>


<ng-template #pubs>
    <ul class="list-group list-group-flush w-100" *ngFor="let number of [0,1,2,3,4,5]; let i=index">
      <li class="list-group-item py-2 d-flex align-items-center">
          <publisher-skeleton></publisher-skeleton>
      </li>
    </ul>
</ng-template>
